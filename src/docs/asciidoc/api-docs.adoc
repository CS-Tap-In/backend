= CS-tap-in Application API Document
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 2
:sectlinks:

[[auth]]
== 인증

=== 일반 로그인

operation::auth-login[snippets='http-request']
Request body
|===
| key | type | description | required
| password | String +
pattern: 영문, 숫자, 특수기호 조합 8~15자 이내  | 비밀번호 | O
| username | String +
pattern: 영문/숫자 2~20자 이내 | 아이디 | O
|===

operation::auth-login[snippets='http-response']
Response body
|===
| key | type | description | required
| accessToken | String | access token | O
| refreshToken | String | refresh token | O
| role | USER: 일반 유저 +
ADMIN: 관리자 | 유저 권한 | O
|===

=== 관리자 회원가입

operation::join-admin[snippets='http-request']
Request body
|===
| key | type | description | required
| password | String +
pattern: 영문, 숫자, 특수기호 조합 8~15자 이내  | 비밀번호 | O
| username | String +
pattern: 영문/숫자 2~20자 이내 | 아이디 | O
|nickname | String +
pattern: 3자 이상 | 별명 | O
|secretKey | String | 관리자 비밀 key | O
|===
NOTE: secretKey는 관리자에게 문의하세요.

operation::join-admin[snippets='http-response']

[[quiz]]
== 퀴즈

=== [관리자] 퀴즈 카테고리 생성

operation::admin-create-quiz-category[snippets='http-request']
Request body
|===
| key | type | description | required
| title | String | 카테고리 명 +
pattern: 20자 이하 | O
|===

operation::admin-create-quiz-category[snippets='http-response']
Response body
|===
| key | type | description | required
| title | String | 카테고리 명 | O
| status | PUBLIC: 공개 +
PRIVATE: 숨김 | 카테고리 상태 +
숨김 상태이면 해당 카테고리에 속하는 문제가 출제되지 않도록 할 예정인데
이거는 v1에 포함되지 않아도 될 기능 같아서 뺐습니다.| O
|===

=== [관리자] 퀴즈 카테고리 목록 조회

operation::admin-find-quiz-categories[snippets='http-request']

operation::admin-find-quiz-categories[snippets='http-response']
Response body - array
|===
| key | type | description | required
| title | String | 카테고리 명 | O
| status | PUBLIC: 공개 +
PRIVATE: 숨김 | 카테고리 상태 +
숨김 상태이면 해당 카테고리에 속하는 문제가 출제되지 않도록 할 예정인데
이거는 v1에 포함되지 않아도 될 기능 같아서 뺐습니다.| O
|===

=== [관리자] 퀴즈 생성

operation::admin-create-quiz[snippets='http-request']
Request body
|===
| key | type | description | required
| problem | String +
500자 이하| 문제 +
정답이 들어가는 부분은 "\+++"로 대체한다.| O
| answer | List<String> +
최소 1개 이상, 문자열 총 합 500자 이하 | 정답 들 | O
| title | String +
pattern: 50자 이하 | 제목 | O
| categoryId | Long | 카테고리 id (pk) | O
|===

operation::admin-create-quiz[snippets='http-response']
Response body
|===
| key | type | description | required
| authorId | Long | 작성자 id (pk) | O
| authorName | String | 작성자 이름 | O
| categoryId | Long | 카테고리 id (pk) | O
| categoryTitle | String | 카테고리 명 | O
| id | Long | 퀴즈 id (pk) | O
| title | String | 퀴즈 제목 | O
| problem | String | 퀴즈 문제 | O
| answer | List<String> | 퀴즈 정답 들 | O
| createdAt | LocalDateTime | 퀴즈 생성일 +
pattern: "yyyy-MM-dd'T'HH:mm:ss" | O
|===

=== [관리자] 퀴즈 상세 조회

operation::admin-find-quiz-details[snippets='http-request']
Path parameters
|===
| key | type | description | required
| quizId | Long | 퀴즈 id (pk) | O
|===

operation::admin-find-quiz-details[snippets='http-response']
Response body
|===
| key | type | description | required
| authorId | Long | 작성자 id (pk) | O
| authorName | String | 작성자 이름 | O
| categoryId | Long | 카테고리 id (pk) | O
| categoryTitle | String | 카테고리 명 | O
| id | Long | 퀴즈 id (pk) | O
| title | String | 퀴즈 제목 | O
| problem | String | 퀴즈 문제 | O
| answer | List<String> | 퀴즈 정답 들 | O
| createdAt | LocalDateTime | 퀴즈 생성일 +
pattern: "yyyy-MM-dd'T'HH:mm:ss" | O
|===

=== [관리자] 퀴즈 목록 조회

operation::admin-find-quizzes[snippets='http-request']
Query params
|===
| key | type | description | required
| st | author: 작성자 +
title: 제목 | 검색 조건 +
searchType | X
| keyword | String | 검색어 | X
| page | int | 페이지 +
1페이지 부터 시작합니다. +
기본값: 1 | X
| size | int | 사이즈 +
기본값: 10 | X
| status | PUBLIC: 공개 +
PRIVATE: 숨김 +
UNAPPROVED: 미승인 +
REJECTED: 반려 |
문제 상태 +
기본 값은 PUBLIC + PRIVATE 입니다. | X
| rejected | Y: 반려된 퀴즈도 노출 +
N: 반려된 퀴즈 노출 X |
반려된 퀴즈 노출 여부 | X
|===

operation::admin-find-quizzes[snippets='http-response']
Response body
|===
| key | type | description | required
| content | List<QuizzesResponse> | 내용 | O
| size | int | 크기 | O
| page | long | 페이지 | O
| totalElements | long | 총 개수 | O
|===

content
|===
| key | type | description | required
| categoryId | Long | 카테고리 id (pk) | O
| categoryTitle | String | 카테고리 명 | O
| id | Long | 퀴즈 id (pk) | O
| title | String | 퀴즈 제목 | O
| problem | String | 퀴즈 문제 | O
| createdAt | LocalDateTime | 퀴즈 생성일 +
pattern: "yyyy-MM-dd'T'HH:mm:ss" | O
|===

=== [관리자] 퀴즈 수정

operation::admin-update-quiz[snippets='http-request']
Request body
|===
| key | type | description | required
| problem | String +
500자 이하| 문제 +
정답이 들어가는 부분은 "\+++"로 대체한다.| O
| answer | List<String> +
최소 1개 이상, 문자열 총 합 500자 이하 | 정답 들 | O
| title | String +
pattern: 50자 이하 | 제목 | O
| categoryId | Long | 카테고리 id (pk) | O
|===

operation::admin-update-quiz[snippets='http-response']
Response body
|===
| key | type | description | required
| authorId | Long | 작성자 id (pk) | O
| authorName | String | 작성자 이름 | O
| categoryId | Long | 카테고리 id (pk) | O
| categoryTitle | String | 카테고리 명 | O
| id | Long | 퀴즈 id (pk) | O
| title | String | 퀴즈 제목 | O
| problem | String | 퀴즈 문제 | O
| answer | List<String> | 퀴즈 정답 들 | O
| createdAt | LocalDateTime | 퀴즈 생성일 +
pattern: "yyyy-MM-dd'T'HH:mm:ss" | O
|===

=== [관리자] 퀴즈 삭제

operation::admin-delete-quiz[snippets='http-request']
Path parameters
|===
| key | type | description | required
| quizId | Long | 퀴즈 id (pk) | O
|===

operation::admin-delete-quiz[snippets='http-response']